## 目标（按你的最新约束）
- 保留常用“尺规开箱即用”功能：中点、平行、垂线等，以及“圆外一点作切线”等常见快速构造。
- 暂不实现：智能辅助系统、教学示例。
- 仍执行你之前提出的系统精简：彻底移除画布平移能力、彻底删除模板库功能。

## 1) 彻底移除所有“画布平移”能力（用户无法触发）
- **删除视图 position 概念**：在 [viewStore.ts](file:///Users/qadmlee/cmblab/mathpad/src/store/viewStore.ts) 移除 `position`/`setPosition` 与依赖 position 的 resize 逻辑。
- **Stage 固定居中**：在 [CanvasStage.tsx](file:///Users/qadmlee/cmblab/mathpad/src/components/CanvasStage.tsx) 将 Stage 的 `x/y` 固定为 `size.width/2, size.height/2`（只允许缩放，不允许平移）。
- **移除所有入口与底层实现**：
  - [CanvasStage.tsx](file:///Users/qadmlee/cmblab/mathpad/src/components/CanvasStage.tsx)：移除 `draggable`、`onDragStart/onDragMove/onDragEnd`、惯性逻辑、拖拽轨迹 overlay。
  - [ContextMenu.tsx](file:///Users/qadmlee/cmblab/mathpad/src/components/ContextMenu.tsx)：删除“视图复位”等会改 position 的选项。
  - [useKeyboardShortcuts.ts](file:///Users/qadmlee/cmblab/mathpad/src/hooks/useKeyboardShortcuts.ts)：删除会触发视图复位/改 position 的快捷键（例如 `0`）。
  - 滚轮缩放仍保留，但缩放时不再写 position（避免“隐式平移”）。
- **回归验证**：确保点/线/圆等创建的 world 坐标换算仍正确（因为原逻辑用 stage.x/y 参与换算）。

## 2) 彻底删除模板库功能（组件/入口/文档）
- 删除模板面板与所有引用：
  - 删除 [TemplatePanel.tsx](file:///Users/qadmlee/cmblab/mathpad/src/components/TemplatePanel.tsx)
  - [App.tsx](file:///Users/qadmlee/cmblab/mathpad/src/App.tsx)：移除 `<TemplatePanel />` 与 import
- 删除工具体系中的 template：
  - [toolStore.ts](file:///Users/qadmlee/cmblab/mathpad/src/store/toolStore.ts)：移除 `ToolType` 的 `'template'`
  - [Toolbar.tsx](file:///Users/qadmlee/cmblab/mathpad/src/components/Toolbar.tsx)：移除“模板库”按钮
  - [StatusBar.tsx](file:///Users/qadmlee/cmblab/mathpad/src/components/StatusBar.tsx)：移除 template 显示/提示
- 文档更新：在 [docs/PRD.md](file:///Users/qadmlee/cmblab/mathpad/docs/PRD.md) 删除/改写“模板库/图形模板”相关表述。

## 3) 保留并强化“常用尺规构造”开箱即用（不做智能辅助、不做教程）

### 3.1 保留现有常用构造（确认不回退）
- 中点：点击线段生成中点（已有）。
- 垂线：选线 + 选点生成过点垂线（已有）。
- 平行线：选线 + 选点生成过点平行线（已有；后续可选做成定义驱动随动，但不属于本轮必做）。

### 3.2 新增“圆外一点作切线”工具（开箱即用）
- 工具入口：启用并展示 `tangent` 工具（已在 ToolType 中存在但未接 UI）。
  - [toolStore.ts](file:///Users/qadmlee/cmblab/mathpad/src/store/toolStore.ts)
  - [Toolbar.tsx](file:///Users/qadmlee/cmblab/mathpad/src/components/Toolbar.tsx)
  - [StatusBar.tsx](file:///Users/qadmlee/cmblab/mathpad/src/components/StatusBar.tsx) 增加提示文案（例如：先点圆，再点圆外点）。
- 交互：两步选择（圆 + 点，顺序不限），生成两条切线。
  - 圆点击在 [Circle.tsx](file:///Users/qadmlee/cmblab/mathpad/src/components/elements/Circle.tsx) 或点点击在 [Point.tsx](file:///Users/qadmlee/cmblab/mathpad/src/components/elements/Point.tsx) 与现有构造模式一致；线点击逻辑参考 [Line.tsx](file:///Users/qadmlee/cmblab/mathpad/src/components/elements/Line.tsx#L120-L217)。
- 几何计算：复用 [geometry.ts:getTangentPoints](file:///Users/qadmlee/cmblab/mathpad/src/core/geometry.ts#L215-L254)。
- 依赖与随动：新增 `GeoDefinition`（例如 `tangent_point`）并在 `calculateElement` 中实现，保证当圆心/半径或外点变化时切点/切线可重算（符合尺规“可随动”体验）。

## 4) 验证与交付标准
- 关键回归：点/线/圆创建、吸附、中点/垂线/平行线、圆外点切线、导入导出 JSON、导出 PNG/裁剪/答题卡。
- 运行验证：`npm run test`、`npm run build` 通过。

如果你确认该计划，我将按顺序先做“去平移 + 去模板库”（风险最低、收益明确），随后接入“切线工具”并做随动与回归测试。